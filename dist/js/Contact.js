import{r as h,_ as p,j as e,d as y,e as I,f as M,h as C}from"./index.js";function O(){var N=h.useState(""),j=p(N,2),w=j[0],l=j[1],T=h.useState(""),g=p(T,2),f=g[0],m=g[1],D=h.useState({first_name:"",last_name:"",email:"",subject:"",message:""}),x=p(D,2),t=x[0],E=x[1],u=t.first_name,v=t.last_name,o=t.email,b=t.subject,S=t.msg,n=function(c){var s=c.target,i=s.name,r=s.value;E(y(y({},t),{},I({},i,r)))},k=function(){var _=M(C().mark(function c(){var s,i,r,d;return C().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("/wp-json/orb/v1/email/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:u,last_name:v,email:o,subject:b,message:S})});case 3:if(s=a.sent,s.ok){a.next=12;break}return a.next=7,s.json();case 7:throw i=a.sent,r=i.message,m(r),l("error"),new Error(r);case 12:return a.next=14,s.json();case 14:return d=a.sent,m(d.message),l("success"),setTimeout(function(){window.location.href="/contact/success?first_name=".concat(encodeURIComponent(u),"&email=").concat(encodeURIComponent(o))},3e3),a.abrupt("return",d);case 21:throw a.prev=21,a.t0=a.catch(0),m(a.t0.message),l("error"),a.t0.message;case 26:case"end":return a.stop()}},c,null,[[0,21]])}));return function(){return _.apply(this,arguments)}}();return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"contact",children:[e.jsx("h2",{className:"title",children:"CONTACT"}),e.jsx("div",{className:"contact-card card",children:e.jsx("form",{children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"first_name",className:"input",id:"first_name",placeholder:"First Name",onChange:n,value:u})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"last_name",className:"input",id:"last_name",placeholder:"Last Name",onChange:n,value:v})})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx("input",{name:"email",type:"email",id:"contact_email",className:"input",placeholder:"Email",onChange:n,value:o})})}),e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx("input",{name:"subject",type:"text",id:"contact_subject",className:"input",placeholder:"Subject",onChange:n,value:b})})}),e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx("textarea",{name:"msg",type:"text",id:"contact_message",placeholder:"Message",onChange:n,value:S})})}),e.jsx("tr",{children:e.jsxs("td",{colSpan:2,children:[e.jsx("input",{type:"hidden",name:"action",value:"thfw_email_contact"}),e.jsx("button",{className:"sendmsg",id:"contact_submit",name:"submit",type:"button",value:"submit",onClick:k,children:e.jsx("h3",{children:"SEND"})})]})})]})})})}),f&&e.jsx("div",{className:"status-bar card ".concat(w),children:e.jsx("span",{children:f})})]})})}export{O as default};
//# sourceMappingURL=Contact.js.map
