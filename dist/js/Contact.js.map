{"version":3,"file":"Contact.js","sources":["../../src/views/Contact.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\n\nimport ContentComponent from './components/ContentComponent';\nimport MessageCardComponent from './components/MessageCardComponent';\nimport StatusBarComponent from './components/StatusBarComponent';\nimport LoadingComponent from '../loading/LoadingComponent';\n\nimport { getContent } from '../controllers/contentSlice';\n\nfunction ContactComponent() {\n  const location = useLocation();\n  const path = location.pathname;\n  const page = path.replace(/^\\/+|\\/+$/g, '');\n\n  const dispatch = useDispatch();\n\n  const { contentLoading, contentStatusCode, contentErrorMessage, title, content } =\n    useSelector((state) => state.content);\n  const {\n    contactLoading,\n    contactStatusCode,\n    contactErrorMessage,\n    contactSuccessMessage,\n  } = useSelector((state) => state.contact);\n\n  useEffect(() => {\n    dispatch(getContent(page));\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (contentStatusCode && contentErrorMessage) {\n      setMessageType('error');\n      setMessage(contentErrorMessage);\n    }\n  }, [contentStatusCode, contentErrorMessage]);\n\n  useEffect(() => {\n    if (contactStatusCode && contactErrorMessage) {\n      setMessageType('error');\n      setMessage(contactErrorMessage);\n    }\n  }, [contactStatusCode, contactErrorMessage]);\n\n  useEffect(() => {\n    if (contactSuccessMessage) {\n      setMessageType('success');\n      setMessage(contactSuccessMessage);\n\n      setTimeout(() => {\n        window.location.href = `/`;\n      }, 3000);\n    }\n  }, [contactSuccessMessage]);\n\n  const [messageType, setMessageType] = useState('');\n  const [message, setMessage] = useState('');\n\n  if (contentLoading) {\n    return <LoadingComponent />;\n  }\n\n  return (\n    <>\n      <main className=\"contact\">\n        <h2 className=\"title\">{title}</h2>\n\n        <ContentComponent content={content} />\n\n        <div className=\"contact-card card\">\n          <MessageCardComponent page={page} />\n        </div>\n\n        <StatusBarComponent messageType={messageType} message={message} />\n      </main>\n    </>\n  );\n}\n\nexport default ContactComponent;\n"],"names":["ContactComponent","location","useLocation","path","pathname","page","replace","dispatch","useDispatch","_useSelector","useSelector","state","content","contentLoading","contentStatusCode","contentErrorMessage","title","_useSelector2","contact","contactLoading","contactStatusCode","contactErrorMessage","contactSuccessMessage","useEffect","getContent","setMessageType","setMessage","setTimeout","window","href","_useState","useState","_useState2","_slicedToArray","messageType","_useState3","_useState4","message","LoadingComponent","jsx","Fragment","children","jsxs","className","ContentComponent","MessageCardComponent","StatusBarComponent"],"mappings":"6KAWA,SAASA,GAAmB,CAC1B,IAAMC,EAAWC,IACXC,EAAOF,EAASG,SAChBC,EAAOF,EAAKG,QAAQ,aAAc,EAAE,EAEpCC,EAAWC,IAEXC,EACJC,EAAY,SAACC,EAAU,CAAA,OAAAA,EAAMC,QAAO,EAD9BC,EAAgBJ,EAAhBI,eAAgBC,EAAAL,EAAAK,kBAAmBC,EAAqBN,EAArBM,oBAAqBC,EAAAP,EAAAO,MAAOJ,EAAQH,EAARG,QAEjEK,EAKFP,EAAY,SAACC,EAAA,CAAA,OAAUA,EAAMO,QAAO,EAJtCD,EAAAE,mBACAC,EAAAH,EAAAG,kBACAC,EAAAJ,EAAAI,oBACAC,EAAAL,EAAAK,sBAGFC,EAAAA,UAAU,UAAM,CACLhB,EAAAiB,EAAWnB,CAAI,CAAC,CAC3B,EAAG,CAACE,CAAQ,CAAC,EAEbgB,EAAAA,UAAU,UAAM,CACVT,GAAqBC,IACvBU,EAAe,OAAO,EACtBC,EAAWX,CAAmB,EAElC,EAAG,CAACD,EAAmBC,CAAmB,CAAC,EAE3CQ,EAAAA,UAAU,UAAM,CACVH,GAAqBC,IACvBI,EAAe,OAAO,EACtBC,EAAWL,CAAmB,EAElC,EAAG,CAACD,EAAmBC,CAAmB,CAAC,EAE3CE,EAAAA,UAAU,UAAM,CACVD,IACFG,EAAe,SAAS,EACxBC,EAAWJ,CAAqB,EAEhCK,WAAW,UAAM,CACfC,OAAO3B,SAAS4B,KAAO,KACtB,GAAI,EAEX,EAAG,CAACP,CAAqB,CAAC,EAE1B,IAAAQ,EAAsCC,WAAS,EAAE,EAAAC,EAAAC,EAAAH,EAAA,CAAA,EAA1CI,EAAAF,EAAA,CAAA,EAAaP,EAAcO,EAAA,CAAA,EAClCG,EAA8BJ,WAAS,EAAE,EAAAK,EAAAH,EAAAE,EAAA,CAAA,EAAlCE,EAAAD,EAAA,CAAA,EAASV,EAAUU,EAAA,CAAA,EAE1B,OAAIvB,QACMyB,EAAiB,CAAA,CAAA,EAKvBC,EAAAA,IAAAC,EAAAA,SAAA,CAAAC,SAAAC,EAAA,KAAC,OAAK,CAAAC,UAAU,UACdF,SAAA,CAACF,EAAA,IAAA,KAAA,CAAGI,UAAU,QAASF,SAAMzB,CAAA,CAAA,EAE7BuB,EAAA,IAACK,GAAiBhC,QAAAA,CAAkB,CAAA,QAEnC,MAAI,CAAA+B,UAAU,oBACbF,SAACF,EAAA,IAAAM,EAAA,CAAqBxC,KAAAA,EAAY,CACpC,CAAA,EAEAkC,EAAA,IAACO,EAAmB,CAAAZ,YAAAA,EAA0BG,QAAAA,CAAkB,CAAA,CAAA,EAClE,CACF,CAAA,CAEJ"}